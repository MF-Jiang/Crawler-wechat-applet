{"version":3,"file":"pages/find_pwd/index.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAIA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAnEA;AAAA;AAAA;AAEA;AAAA;AAAA;AAEA;AAAA;AAAA;AAEA;AAAA;AAAA;AA+DA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAEA;AAAA;AAAA;AAEA;AAAA;AAGA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;AC7GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://taro_bilibili/._src_pages_find_pwd_index.jsx","webpack://taro_bilibili/./src/pages/find_pwd/index.jsx?a5a4"],"sourcesContent":["import { Component } from 'react'\r\nimport Taro from '@tarojs/taro';\r\nimport {View, Input, Text} from '@tarojs/components'\r\nimport {OsCountdown} from \"ossaui\";\r\n\r\n\r\nimport './index.scss'\r\n\r\n\r\nexport default class Index extends Component {\r\n  componentDidMount () { }\r\n\r\n  componentWillUnmount () { }\r\n\r\n  componentDidShow () { }\r\n\r\n  componentDidHide () { }\r\n\r\n  state = {showCd:false}\r\n\r\n  register = () => {\r\n\r\n  }\r\n\r\n  getCode = () => {\r\n\r\n    Taro.request({\r\n      url: 'http://127.0.0.1:5000/api/auth/find_password/captcha',\r\n      header: {\r\n        'content-type': 'application/json'\r\n      },\r\n      method:\"POST\",\r\n      data:{\r\n        \"uoe\":this.email.value\r\n      },\r\n      success: () => {\r\n        this.setState({showCd:true})\r\n        console.log(\"success\",this.state.showCd)\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  submit_Data = () => {\r\n    Taro.request({\r\n      url: 'http://127.0.0.1:5000/api/auth/find_password',\r\n      header: {\r\n        'content-type': 'application/json'\r\n      },\r\n      method:\"POST\",\r\n      data:{\r\n        \"uoe\":this.email.value,\r\n        \"captcha\":this.code.value,\r\n      },\r\n      success: (res) => {\r\n        if (res.data.ifSuccess){\r\n          Taro.showModal({\r\n            title: 'Tip:',\r\n            content: res.data.data,\r\n            showCancel:false,\r\n            success: () => {\r\n              Taro.navigateTo({\r\n                url: '../login/index'\r\n              })\r\n            }\r\n          })\r\n        }\r\n        else {\r\n          Taro.showModal({\r\n            title: 'Tip:',\r\n            content: res.data.message,\r\n            showCancel:false,\r\n          })\r\n        }\r\n        console.log(res.data)\r\n      }\r\n    })\r\n  }\r\n\r\n  render () {\r\n    return(\r\n      <View className='content'>\r\n        <View className='row-input'>\r\n          <Text>Email</Text>\r\n          <View className='input-box'>\r\n            <Input placeholder='Please enter your email' maxLength='20' ref={c => this.email = c} />\r\n          </View>\r\n        </View>\r\n        <View className='row-input2'>\r\n          <Text>Verification code</Text>\r\n          <View className='input-box2'>\r\n            <Input className='input2' placeholder='Please enter the code' maxLength='6' ref={c => this.code = c} />\r\n            {\r\n              !this.state.showCd ?\r\n                <View className='code' onClick={this.getCode}>\r\n                  <Text>CAPTCHA</Text>\r\n                </View>\r\n                :\r\n                <OsCountdown className='cd2' remainTime={60000} onEnd={() => { setTimeout(() => { this.setState({showCd:false}) }, 1000) }}>\r\n                  {f => <View>{Math.round(f.remainTime / 1000)}</View>}\r\n                </OsCountdown>\r\n            }\r\n          </View>\r\n        </View>\r\n        <View className='register-btn' onClick={this.submit_Data}>\r\n        Retrieve password\r\n        </View>\r\n      </View>\r\n    )\r\n  }\r\n}\r\n","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../node_modules/babel-loader/lib/index.js??ruleSet[1].rules[5].use[0]!./index.jsx\"\nvar config = {\"navigationBarTitleText\":\"\"};\n\n\nvar inst = Page(createPageConfig(component, 'pages/find_pwd/index', {root:{cn:[]}}, config || {}))\n\n\n"],"names":[],"sourceRoot":""}