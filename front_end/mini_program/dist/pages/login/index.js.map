{"version":3,"file":"pages/login/index.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBA;AAGA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AA3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAEA;AAAA;AAAA;AAEA;AAAA;AAAA;AAgDA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;AC1FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://taro_bilibili/._src_pages_login_index.jsx","webpack://taro_bilibili/./src/pages/login/index.jsx?afe4"],"sourcesContent":["import { Component } from 'react'\r\nimport Taro from \"@tarojs/taro\";\r\nimport {View, Text, Image, Input} from '@tarojs/components'\r\n\r\n\r\nimport './index.scss'\r\n\r\nexport default class Index extends Component {\r\n  componentDidMount () {\r\n    if (Taro.getStorageSync('Cookies').length !== 0){\r\n      console.log(123)\r\n      Taro.switchTab({\r\n        url: '/pages/bilibili/index'\r\n      })\r\n    }\r\n    console.log(Taro.getStorageSync('Cookies'))\r\n  }\r\n\r\n  componentWillUnmount () { }\r\n\r\n  componentDidShow () { }\r\n\r\n  componentDidHide () { }\r\n\r\n  state = {}\r\n\r\n  register = () => {\r\n    Taro.navigateTo({\r\n      url: '../register/index'\r\n    })\r\n  }\r\n\r\n  find_pwd = () => {\r\n    Taro.navigateTo({\r\n      url: '../find_pwd/index'\r\n    })\r\n  }\r\n\r\n  login = () => {\r\n    Taro.request({\r\n      url: 'http://127.0.0.1:5000/api/auth/login',\r\n      header: {\r\n        'content-type': 'application/json'\r\n      },\r\n      method:\"POST\",\r\n      data:{\r\n        \"uore\":this.account.value,\r\n        \"password\":this.password.value\r\n      },\r\n      success: (res) => {\r\n        if(res.data.ifSuccess){\r\n          let cookies = res.header['Set-Cookie'].replace(/,/g, ';')\r\n          console.log('=======', cookies)\r\n          Taro.setStorageSync('Cookies', cookies)\r\n          Taro.switchTab({\r\n            url: '/pages/bilibili/index'\r\n          })\r\n        }\r\n        else {\r\n          Taro.showModal({\r\n            title: 'Tip:',\r\n            content: 'The account or password is incorrect.',\r\n            showCancel:false,\r\n          })\r\n        }\r\n        console.log(res.data)\r\n      }\r\n    })\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <View className='content'>\r\n        <View className='row-input'>\r\n          <Image mode='aspectFit' src='https://vkceyugu.cdn.bspapp.com/VKCEYUGU-a1714171-183a-4753-b538-8fabcab0d8b6/b4dc6deb-b506-4f79-820f-8254fb1ed4bf.png'></Image>\r\n          <Input placeholder='Username or Email' maxlength='18' ref={c => this.account = c} />\r\n        </View>\r\n        <View className='row-input'>\r\n          <Image mode='aspectFit' src='https://vkceyugu.cdn.bspapp.com/VKCEYUGU-a1714171-183a-4753-b538-8fabcab0d8b6/a8677dbc-1b40-4c25-b401-32316d8705df.png'></Image>\r\n          <Input type='password' placeholder='Please enter your password' maxlength='18' ref={c => this.password = c} />\r\n        </View>\r\n        <View className='login-btn' onClick={this.login}>\r\n          Login\r\n        </View>\r\n        <View className='function-link'>\r\n          <Text onClick={this.register}>Registration</Text>\r\n          <Text onClick={this.find_pwd}>Find password</Text>\r\n        </View>\r\n      </View>\r\n    )\r\n  }\r\n}\r\n","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../node_modules/babel-loader/lib/index.js??ruleSet[1].rules[5].use[0]!./index.jsx\"\nvar config = {\"navigationBarTitleText\":\"Login\"};\n\n\nvar inst = Page(createPageConfig(component, 'pages/login/index', {root:{cn:[]}}, config || {}))\n\n\n"],"names":[],"sourceRoot":""}