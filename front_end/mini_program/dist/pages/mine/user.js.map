{"version":3,"file":"pages/mine/user.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAyBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAtBA;AAAA;AAAA;AAEA;AAAA;AAAA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAIA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAKA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;AChJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://taro_bilibili/._src_pages_mine_user.jsx","webpack://taro_bilibili/./src/pages/mine/user.jsx?481f"],"sourcesContent":["import Taro from '@tarojs/taro'\r\nimport { Component } from 'react'\r\nimport { View, Text, Image } from '@tarojs/components'\r\nimport personalimg from '../../static/personal.png'\r\nimport rightimg from '../../static/right.png'\r\nimport settingimg from '../../static/setting.png'\r\nimport helpimg from '../../static/help.png'\r\nimport contactimg from '../../static/contact.png'\r\nimport logout from '../../static/logout.png'\r\nimport avatar from \"../../static/avatar.png\";\r\n\r\nimport './user.scss'\r\n\r\nexport default class Index extends Component {\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  componentWillUnmount() { }\r\n\r\n  componentDidShow() {     let cookie = Taro.getStorageSync('Cookies')\r\n    let upload_avatar = Taro.getStorageSync('tempFilePaths')\r\n    Taro.request({\r\n      url: 'http://127.0.0.1:5000/api/auth/user_menu',\r\n      header: {\r\n        'Cookie': cookie,\r\n        'content-type': 'application/json'\r\n      },\r\n      method: \"POST\",\r\n\r\n      success: (res) => {\r\n        this.setState({ username: res.data.username, time: res.data.time, email: res.data.email ,tempFilePaths:upload_avatar})\r\n\r\n      }\r\n    })}\r\n\r\n  componentDidHide() { }\r\n\r\n  state = { username: \"\", time: \"\", email: \"\",tempFilePaths:\"\" }\r\n\r\n  render() {\r\n    const contact = () => {\r\n      Taro.navigateTo({ url: \"/pages/mine/contact/index\" })\r\n    }\r\n\r\n    const help = () => {\r\n      Taro.navigateTo({ url: \"/pages/mine/help/index\" })\r\n    }\r\n\r\n    const setting = () => {\r\n      Taro.navigateTo({ url: \"/pages/mine/setting/index\" })\r\n    }\r\n\r\n    const personal = () => {\r\n      Taro.navigateTo({ url: \"/pages/mine/personal/index\" })\r\n    }\r\n\r\n    const Log_out = () => {\r\n\r\n      Taro.showModal({\r\n        title: 'Reminder',\r\n        content: 'Sure you want to log out?',\r\n        confirmText:'Confirm',\r\n        cancelText:'Cancel',\r\n        success: function (res) {\r\n          if (res.confirm){\r\n            Taro.reLaunch({\r\n              url: '/pages/login/index',\r\n            })\r\n            Taro.removeStorageSync('Cookies')\r\n            Taro.removeStorageSync('State_bi')\r\n            Taro.removeStorageSync('State_aca')\r\n            Taro.removeStorageSync('State_sina')\r\n          }\r\n        }\r\n      })\r\n    }\r\n\r\n    const chooseImage = () => {\r\n      console.log(\"img\")\r\n      Taro.chooseImage({\r\n        count: 1, // 默认9\r\n        sizeType: ['original', 'compressed'], // 可以指定是原图还是压缩图，默认二者都有\r\n        sourceType: ['album', 'camera'], // 可以指定来源是相册还是相机，默认二者都有，在H5浏览器端支持使用 `user` 和 `environment`分别指定为前后摄像头\r\n        success: (res) => {\r\n          // 返回选定照片的本地文件路径列表，tempFilePath可以作为img标签的src属性显示图片\r\n          this.setState({tempFilePaths:res.tempFilePaths})\r\n          Taro.setStorageSync('tempFilePaths', res.tempFilePaths)\r\n        }\r\n      })\r\n    }\r\n\r\n    return (\r\n      <View class='container'>\r\n        <View class=\"partOne\">\r\n          <View class=\"userinfo\">\r\n            <Image class=\"userinfo-avatar\" src={this.state.tempFilePaths.length === 0 ? avatar : this.state.tempFilePaths} mode=\"cover\" onClick={chooseImage}></Image>\r\n            <Text class=\"userinfo-nickname\">{this.state.username}</Text>\r\n          </View>\r\n        </View>\r\n        <View class=\"partTwo\">\r\n          <View class=\"item\" onClick={personal}>\r\n            <View class=\"itemname\">\r\n              <View ><Image src={personalimg} /></View>\r\n              <View ><Text >Personal</Text></View>\r\n            </View>\r\n            <View class=\"right\"><Image src={rightimg} /></View>\r\n          </View>\r\n          <View class=\"item\" onClick={contact}>\r\n            <View class=\"itemname\">\r\n              <View ><Image src={contactimg} /></View>\r\n              <View ><Text >Contact</Text></View>\r\n            </View>\r\n            <View class=\"right\"><Image src={rightimg} /></View>\r\n          </View>\r\n        </View>\r\n\r\n        <View class=\"partThree\">\r\n          <View class=\"item\" onClick={help}>\r\n            <View class=\"itemname\">\r\n              <View ><Image src={helpimg} /></View>\r\n              <View ><Text >Help</Text></View>\r\n            </View>\r\n            <View class=\"right\"><Image src={rightimg} /></View>\r\n          </View>\r\n          <View class=\"item\" onClick={setting}>\r\n            <View class=\"itemname\">\r\n              <View ><Image src={settingimg} /></View>\r\n              <View ><Text >Setting</Text></View>\r\n            </View>\r\n            <View class=\"right\"><Image src={rightimg} /></View>\r\n          </View>\r\n          <View class=\"item\" onClick={Log_out}>\r\n            <View class=\"itemname\">\r\n              <View ><Image src={logout} /></View>\r\n              <View ><Text >Logout</Text></View>\r\n            </View>\r\n            <View class=\"right\"><Image src={rightimg} /></View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n\r\n\r\n    )\r\n  }\r\n}\r\n","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../node_modules/babel-loader/lib/index.js??ruleSet[1].rules[5].use[0]!./user.jsx\"\nvar config = {\"navigationBarTitleText\":\"User-menu\"};\n\n\nvar inst = Page(createPageConfig(component, 'pages/mine/user', {root:{cn:[]}}, config || {}))\n\n\n"],"names":[],"sourceRoot":""}